<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentor - MentorMatch</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../CSS/Style.css">

    <!-- FullCalendar -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

    <style>
        .mentor-photo {
            width: 160px;
            height: 160px;
            border-radius: 12px;
            object-fit: cover;
            background: #ddd;
        }

        .info-box {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 0 14px rgba(0,0,0,0.08);
        }

        .review-box {
            background: #f7f7f7;
            border: 1px solid #e4e4e4;
            padding: 15px;
            border-radius: 10px;
        }
    </style>
</head>

<body>

    <!-- NAVBAR -->
    <div id="navbar"></div>

    <div class="container py-5">
        <div class="row g-4">

            <!-- FOTO -->
            <div class="col-md-3 text-center">
                <img src="../Img/default-user.png" class="mentor-photo mb-3">
                <h5 class="fw-bold mt-2">Marco Bianchi</h5>
                <p class="text-muted small">Programmazione • 5⭐</p>
            </div>

            <!-- INFO DEL MENTOR -->
            <div class="col-md-9">
                <div class="info-box">
                    <h4 class="fw-bold">Informazioni del Mentor</h4>
                    <p class="mt-3">
                        Mentor con 10 anni di esperienza in sviluppo web, Java, database e architetture software.
                        Ha già aiutato più di 200 studenti a migliorare le loro competenze tecniche.
                    </p>

                    <p><strong>Email:</strong> marco.rossi@example.com</p>
                    <p><strong>Lingue:</strong> Italiano, Inglese</p>
                    <p><strong>Sessioni:</strong> 50+ completate</p>
                </div>
            </div>
        </div>

        <!-- CALENDARIO -->
        <div class="info-box mt-4">
            <h4 class="fw-bold mb-3">Calendario Disponibilità</h4>
            <div id="calendar"></div>
        </div>

        <!-- REVIEW + PRENOTAZIONE -->
        <div class="row mt-4 g-4">

            <!-- REVIEW -->
            <div class="col-md-6">
                <div class="info-box">
                    <h4 class="fw-bold mb-3">Lascia una Recensione</h4>

                    <label class="form-label">Valutazione (1–5)</label>
                    <select id="rating" class="form-select mb-3">
                        <option value="1">⭐ 1</option>
                        <option value="2">⭐ 2</option>
                        <option value="3">⭐ 3</option>
                        <option value="4">⭐ 4</option>
                        <option value="5" selected>⭐ 5</option>
                    </select>

                    <label class="form-label">Commento</label>
                    <textarea id="reviewText" class="form-control mb-3" rows="3" placeholder="Scrivi la tua opinione..."></textarea>

                    <button class="btn btn-primary w-100" id="submitReview">Invia Review</button>
                </div>
            </div>

            <!-- PRENOTA -->
            <div class="col-md-6">
                <div class="info-box text-center d-flex flex-column justify-content-between" style="height:100%;">
                    <div>
                        <h4 class="fw-bold mb-3">Prenota una Sessione</h4>
                        <p class="text-muted">Seleziona una data nel calendario e conferma la prenotazione.</p>
                    </div>

                    <button class="btn btn-success btn-lg mt-3" id="bookBtn">
                        + Prenota
                    </button>
                </div>
            </div>

        </div>
    </div>

    <!-- NAVBAR LOAD -->
    <script>
        fetch("../Components/navBar.html")
            .then(res => res.text())
            .then(html => {
                document.getElementById("navbar").innerHTML = html;

                document.getElementById("logoutBtn")?.addEventListener("click", () => {
                    localStorage.clear();
                    window.location.href = "Log.html";
                });
            });
    </script>

    <!-- CALENDAR SCRIPT -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const calendar = new FullCalendar.Calendar(document.getElementById("calendar"), {
                initialView: "dayGridMonth",
                height: 600,
                headerToolbar: {
                    left: "prev,next today",
                    center: "title",
                    right: "dayGridMonth,timeGridWeek,timeGridDay"
                },
                selectable: true,
                dateClick(info) {
                    alert("Hai selezionato: " + info.dateStr + "\n(qui si aggiungerà la logica di prenotazione)");
                },
                events: [
                    { title: "Occupato", start: "2025-02-10", color: "#d9534f" },
                    { title: "Disponibile", start: "2025-02-12", color: "#5cb85c" },
                ]
            });

            calendar.render();
        });
    </script>

    <!-- REVIEW SCRIPT -->
    <script>
        document.getElementById("submitReview").addEventListener("click", () => {
            const rating = document.getElementById("rating").value;
            const text = document.getElementById("reviewText").value;

            alert("Review inviata!\n⭐ = " + rating + "\nCommento: " + text);
        });
    </script>

    <!-- PRENOTA -->
    <script>
        document.getElementById("bookBtn").addEventListener("click", () => {
            alert("Prenotazione registrata! (funzione backend da implementare)");
        });
    </script>

</body>
</html>
